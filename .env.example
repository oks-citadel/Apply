# ============================================================================
# JobPilot AI Platform - Environment Variables Reference
# ============================================================================
# This file documents all environment variables used across the platform.
# Copy this file to .env and update with your actual values.
# ============================================================================

# ============================================================================
# GLOBAL CONFIGURATION
# ============================================================================

# Environment
NODE_ENV=development  # development | production | test

# Frontend Configuration
FRONTEND_URL=http://localhost:3000
APP_URL=http://localhost:3000
API_URL=http://localhost:8000
NEXT_PUBLIC_API_URL=http://localhost:8000

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL - Shared across all services
DATABASE_URL=postgresql://postgres:postgres@localhost:5434/jobpilot
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=jobpilot
POSTGRES_HOST=localhost
POSTGRES_PORT=5434

# Test Database
TEST_DATABASE_URL=postgresql://postgres:postgres@localhost:5434/jobpilot_test

# ============================================================================
# CACHING & MESSAGE QUEUE
# ============================================================================

# Redis - Used for caching, sessions, and Bull queues
REDIS_URL=redis://localhost:6381
REDIS_HOST=localhost
REDIS_PORT=6381
REDIS_PASSWORD=
REDIS_DB=0
TEST_REDIS_URL=redis://localhost:6381/1

# RabbitMQ - Used for inter-service messaging
RABBITMQ_URL=amqp://guest:guest@localhost:5673
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5673
RABBITMQ_USERNAME=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_MANAGEMENT_PORT=15673

# ============================================================================
# AUTHENTICATION & SECURITY
# ============================================================================

# JWT Configuration
JWT_SECRET=7f8a9b6c5d4e3f2a1b0c9d8e7f6a5b4c3d2e1f0a9b8c7d6e5f4a3b2c1d0e9f8a
JWT_REFRESH_SECRET=2e3f4a5b6c7d8e9f0a1b2c3d4e5f6a7b8c9d0e1f2a3b4c5d6e7f8a9b0c1d2e3f
JWT_EXPIRES_IN=24h
JWT_EXPIRATION=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_REFRESH_EXPIRATION=7d

# Session Secret
SESSION_SECRET=5a6b7c8d9e0f1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b1c2d3e4f5a6b
SESSION_EXPIRATION=86400000
SESSION_MAX_AGE=86400000

# OAuth Providers
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# LinkedIn OAuth
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# AI SERVICE CONFIGURATION
# ============================================================================

# OpenAI
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORG_ID=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=4096

# Anthropic Claude
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here
ANTHROPIC_MODEL=claude-3-opus-20240229

# Google AI (optional)
GOOGLE_AI_API_KEY=

# Vector Database (Pinecone)
PINECONE_API_KEY=your-pinecone-api-key-here
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=jobpilot-vectors

# ============================================================================
# EXTERNAL JOB BOARD APIs
# ============================================================================

# Job Board API Keys
INDEED_API_KEY=your-indeed-api-key
LINKEDIN_API_KEY=your-linkedin-api-key
GLASSDOOR_API_KEY=your-glassdoor-api-key
ZIPRECRUITER_API_KEY=your-ziprecruiter-api-key

# ============================================================================
# SEARCH & INDEXING
# ============================================================================

# Elasticsearch
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=

# ============================================================================
# EMAIL & NOTIFICATIONS
# ============================================================================

# SMTP Configuration (Development - MailHog)
SMTP_HOST=localhost
SMTP_PORT=1026
SMTP_SECURE=false
SMTP_USER=
SMTP_PASSWORD=

# Email Settings
EMAIL_FROM=noreply@jobpilot.ai
EMAIL_FROM_NAME=JobPilot AI Platform
EMAIL_PROVIDER=sendgrid

# SendGrid (Production)
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@jobpilot.ai
SENDGRID_FROM_NAME=JobPilot

# Push Notifications (Firebase)
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email

# ============================================================================
# CLOUD STORAGE (AWS S3)
# ============================================================================

# AWS Configuration
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_S3_REGION=us-east-1

# S3 Buckets
AWS_S3_BUCKET=jobpilot-main-bucket-dev
AWS_S3_RESUMES_BUCKET=jobpilot-resumes-dev
AWS_S3_USER_UPLOADS_BUCKET=jobpilot-user-uploads-dev

# S3 Prefixes
AWS_S3_RESUMES_PREFIX=resumes/
AWS_S3_PARSED_PREFIX=parsed-resumes/
AWS_S3_GENERATED_PREFIX=generated-resumes/
AWS_S3_PROFILE_PHOTOS_PREFIX=profile-photos/

# ============================================================================
# PAYMENT PROCESSING (Stripe)
# ============================================================================

# Stripe Configuration
STRIPE_PUBLIC_KEY=pk_test_your_stripe_public_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Stripe Price IDs
STRIPE_BASIC_PRICE_ID=price_basic_monthly
STRIPE_PRO_PRICE_ID=price_pro_monthly
STRIPE_ENTERPRISE_PRICE_ID=price_enterprise_monthly

# ============================================================================
# SERVICE PORTS
# ============================================================================

# Service Ports
AI_SERVICE_PORT=8000
AUTH_SERVICE_PORT=8001
USER_SERVICE_PORT=8002
RESUME_SERVICE_PORT=8003
JOB_SERVICE_PORT=8004
AUTO_APPLY_SERVICE_PORT=8005
ANALYTICS_SERVICE_PORT=8006
NOTIFICATION_SERVICE_PORT=8007
ORCHESTRATOR_SERVICE_PORT=8008

# Web Application
PORT=3000

# WebSocket
WS_PORT=3001
WS_PATH=/ws

# ============================================================================
# SERVICE URLs (Inter-service Communication)
# ============================================================================

# Service URLs
AI_SERVICE_URL=http://localhost:8000/api/v1
AUTH_SERVICE_URL=http://localhost:8001/api/v1
USER_SERVICE_URL=http://localhost:8002/api/v1
RESUME_SERVICE_URL=http://localhost:8003/api/v1
JOB_SERVICE_URL=http://localhost:8004/api/v1
AUTO_APPLY_SERVICE_URL=http://localhost:8005/api/v1
ANALYTICS_SERVICE_URL=http://localhost:8006/api/v1
NOTIFICATION_SERVICE_URL=http://localhost:8007/api/v1
ORCHESTRATOR_SERVICE_URL=http://localhost:8008/api/v1

# ============================================================================
# CORS & SECURITY
# ============================================================================

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW=60
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ============================================================================
# BROWSER AUTOMATION (Auto-Apply Service)
# ============================================================================

# Playwright Configuration
BROWSER_HEADLESS=true
HEADLESS_BROWSER=true
BROWSER_TIMEOUT=30000
ACTION_DELAY=1000
VIEWPORT_WIDTH=1920
VIEWPORT_HEIGHT=1080

# Proxy Configuration (Optional)
PROXY_ENABLED=false
PROXY_HOST=
PROXY_PORT=
PROXY_USERNAME=
PROXY_PASSWORD=

# ============================================================================
# FILE UPLOAD CONFIGURATION
# ============================================================================

# File Upload Limits
MAX_FILE_SIZE=5242880  # 5MB in bytes
ALLOWED_FILE_TYPES=application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,text/plain
ALLOWED_FILE_EXTENSIONS=.pdf,.doc,.docx,.txt
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# Upload Directories
UPLOAD_TEMP_DIR=./temp/uploads
SCREENSHOT_PATH=./screenshots

# ============================================================================
# MONITORING & LOGGING
# ============================================================================

# Logging
LOG_LEVEL=debug  # error | warn | info | debug

# Application Insights (Azure)
APPLICATIONINSIGHTS_CONNECTION_STRING=
APPLICATIONINSIGHTS_INSTRUMENTATION_KEY=

# Sentry
SENTRY_DSN=your-sentry-dsn

# Metrics
ENABLE_METRICS=true
METRICS_PORT=9090

# Analytics
GOOGLE_ANALYTICS_ID=your-ga-id
MIXPANEL_TOKEN=your-mixpanel-token

# ============================================================================
# FEATURE FLAGS & CONFIGURATION
# ============================================================================

# Feature Flags
FEATURE_AUTO_APPLY=true
FEATURE_AI_RESUME_BUILDER=true
FEATURE_ANALYTICS_DASHBOARD=true
FEATURE_CHROME_EXTENSION=true

# AI Features
AI_SUGGESTIONS_ENABLED=true
RESUME_OPTIMIZATION_ENABLED=true
SALARY_PREDICTION_ENABLED=true

# Version Control
ENABLE_VERSION_CONTROL=true
MAX_VERSIONS_PER_RESUME=10

# Analytics
ENABLE_ANALYTICS=true
ANALYTICS_RETENTION_DAYS=90

# Notifications
NOTIFICATIONS_ENABLED=true

# Auto-Apply
LINKEDIN_AUTO_APPLY=true
INDEED_AUTO_APPLY=true
GLASSDOOR_AUTO_APPLY=false

# ============================================================================
# PROCESSING LIMITS
# ============================================================================

# Job Processing
MAX_CONCURRENT_JOBS=3
MAX_APPLICATIONS_PER_DAY=50
JOB_PROCESSING_TIMEOUT=300000
MAX_RETRY_ATTEMPTS=3

# Rate Limits
MAX_UPLOADS_PER_DAY=10
MAX_DOWNLOADS_PER_DAY=50
MAX_APPLICATIONS_PER_PLATFORM_HOURLY=10

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================

# Cache TTL (in seconds)
CACHE_TTL=300
CACHE_MAX_ITEMS=1000

# Redis TTL
REDIS_TTL=3600

# ============================================================================
# CRON JOBS & SCHEDULED TASKS
# ============================================================================

# Job Aggregation
JOB_AGGREGATION_CRON=0 */6 * * *
JOB_RETENTION_DAYS=90

# Analytics Aggregation
ANALYTICS_AGGREGATION_INTERVAL=3600000

# Backup
AUTO_BACKUP_ENABLED=false
BACKUP_FREQUENCY_HOURS=24

# ============================================================================
# SECURITY & VIRUS SCANNING
# ============================================================================

# Virus Scanning (ClamAV)
VIRUS_SCAN_ENABLED=false
CLAMAV_HOST=localhost
CLAMAV_PORT=3310

# Password Policy
MIN_PASSWORD_LENGTH=8
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=15

# ============================================================================
# CHROME EXTENSION
# ============================================================================

# Chrome Extension Configuration
EXTENSION_ID=your-chrome-extension-id
EXTENSION_SECRET=your-extension-secret

# ============================================================================
# MOBILE APP
# ============================================================================

# Mobile App Configuration
MOBILE_API_URL=http://localhost:8000/api/mobile
MOBILE_WS_URL=ws://localhost:3001

# ============================================================================
# WEBHOOKS (Optional)
# ============================================================================

# Webhook Configuration
WEBHOOK_URL=
WEBHOOK_SECRET=

# ============================================================================
# NOTES
# ============================================================================
# 1. Never commit .env files to version control
# 2. Use strong, random values for secrets in production
# 3. Update API keys and credentials with your actual values
# 4. For production, use environment-specific values
# 5. Keep this file updated when adding new environment variables
# ============================================================================
