# Application
NODE_ENV=development
PORT=4003
API_PREFIX=api/v1

# Database - PostgreSQL connection
# Production: Azure Database for PostgreSQL
# Local Dev: Use localhost or Docker Compose
# Format: postgresql://username:password@host:port/database?sslmode=require
DATABASE_URL=postgresql://applyforusadmin@applyforus-postgres:${DB_PASSWORD}@applyforus-postgres.postgres.database.azure.com:5432/applyforus?sslmode=require

# Alternative Database Configuration (if not using DATABASE_URL)
DB_HOST=applyforus-postgres.postgres.database.azure.com
DB_PORT=5432
DB_USERNAME=applyforusadmin@applyforus-postgres
DB_PASSWORD=<your-db-password-here>
DB_DATABASE=applyforus
DB_SSL=true

# Local Development (Override in .env.local)
# DATABASE_URL=postgresql://postgres:postgres@localhost:5432/auto_apply_service_db
# DB_HOST=localhost
# DB_USERNAME=postgres
# DB_PASSWORD=postgres
# DB_SSL=false

# Redis Configuration - Azure Cache for Redis
# Production: Azure Cache for Redis with SSL/TLS
# Local Dev: Use localhost or Docker Compose
# Used for Bull queue management and job coordination
REDIS_HOST=applyforus-redis.redis.cache.windows.net
REDIS_PORT=6380
REDIS_PASSWORD=<your-redis-access-key-here>
REDIS_DB=0
REDIS_TLS=true
REDIS_SSL=true

# Local Development (Override in .env.local)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_TLS=false

# Browser Automation Configuration (Playwright)
# Run browser in headless mode (true) or with GUI (false)
BROWSER_HEADLESS=true
# Browser navigation timeout in milliseconds (default: 30 seconds)
BROWSER_TIMEOUT=30000
# Wait time between actions in milliseconds to avoid detection
ACTION_DELAY=1000
# Viewport width
VIEWPORT_WIDTH=1920
# Viewport height
VIEWPORT_HEIGHT=1080

# Job Processing Configuration
# Maximum number of concurrent job applications to process
MAX_CONCURRENT_JOBS=3
# Maximum number of applications per user per day
MAX_APPLICATIONS_PER_DAY=50
# Job processing timeout in milliseconds (default: 5 minutes)
JOB_PROCESSING_TIMEOUT=300000
# Retry attempts for failed applications
MAX_RETRY_ATTEMPTS=3
# Delay between retries in milliseconds
RETRY_DELAY=60000

# User Agent Configuration
# User agent string for browser automation (rotates to avoid detection)
USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# Proxy Configuration (Optional)
# Enable proxy for browser automation
PROXY_ENABLED=false
PROXY_HOST=
PROXY_PORT=
PROXY_USERNAME=
PROXY_PASSWORD=

# Application Platforms Configuration
# Enable/disable specific job platforms
LINKEDIN_AUTO_APPLY=true
INDEED_AUTO_APPLY=true
GLASSDOOR_AUTO_APPLY=false

# Platform Credentials (Encrypted)
# These should be encrypted in the database, not stored here
# This is just for reference/documentation
# LINKEDIN_USERNAME=stored-in-database-encrypted
# LINKEDIN_PASSWORD=stored-in-database-encrypted
# INDEED_USERNAME=stored-in-database-encrypted
# INDEED_PASSWORD=stored-in-database-encrypted

# Queue Configuration
# Bull queue settings
QUEUE_NAME=auto-apply-jobs
# Job removal time after completion (milliseconds)
QUEUE_REMOVE_ON_COMPLETE=3600000
# Job removal time after failure (milliseconds)
QUEUE_REMOVE_ON_FAIL=86400000

# External Services
# Production: Use Kubernetes internal DNS
# Local Dev: Use localhost URLs
# These URLs are used for inter-service communication
AUTH_SERVICE_URL=http://auth-service.applyforus.svc.cluster.local:8001
USER_SERVICE_URL=http://user-service.applyforus.svc.cluster.local:4004
RESUME_SERVICE_URL=http://resume-service.applyforus.svc.cluster.local:4001
JOB_SERVICE_URL=http://job-service.applyforus.svc.cluster.local:4002
AI_SERVICE_URL=http://ai-service.applyforus.svc.cluster.local:5000

# Local Development (Override in .env.local)
# AUTH_SERVICE_URL=http://localhost:8001/api/v1
# USER_SERVICE_URL=http://localhost:4004/api/v1
# RESUME_SERVICE_URL=http://localhost:4001/api/v1
# JOB_SERVICE_URL=http://localhost:4002/api/v1
# AI_SERVICE_URL=http://localhost:5000/api/v1

# HTTP Client Configuration
# Timeout for inter-service HTTP requests (milliseconds)
HTTP_TIMEOUT=30000

# Notification Settings
# Notify user on application success/failure
NOTIFICATIONS_ENABLED=true
# Production: Use Kubernetes internal DNS
NOTIFICATION_SERVICE_URL=http://notification-service.applyforus.svc.cluster.local:4005

# Local Development (Override in .env.local)
# NOTIFICATION_SERVICE_URL=http://localhost:4005/api/v1

# Rate Limiting (per platform to avoid detection)
# Delay between applications to the same platform (milliseconds)
PLATFORM_RATE_LIMIT_DELAY=10000
# Maximum applications per platform per hour
MAX_APPLICATIONS_PER_PLATFORM_HOURLY=10

# Logging
LOG_LEVEL=debug
# Enable detailed browser logs
BROWSER_DEBUG=false

# Anti-Detection Features
# Enable random delays between actions
RANDOM_DELAYS=true
# Enable mouse movement simulation
SIMULATE_MOUSE_MOVEMENT=true
# Enable human-like typing speed
HUMAN_TYPING_SPEED=true
# Typing speed range in milliseconds per character
TYPING_SPEED_MIN=50
TYPING_SPEED_MAX=150

# Screenshot Configuration
# Save screenshots on errors for debugging
SCREENSHOT_ON_ERROR=true
SCREENSHOT_PATH=./screenshots

# Cache Configuration
# Cache TTL for job listings in seconds
CACHE_TTL=300
